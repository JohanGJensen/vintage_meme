(this["webpackJsonpdev-test-2019-starter"]=this["webpackJsonpdev-test-2019-starter"]||[]).push([[0],{107:function(e,t,n){},108:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(26),c=n.n(i),o=n(5),l=n(8),u=n.n(l),s=function(e){return{"@global body":{background:e.palette.background,color:e.palette.text,overflow:"hidden"},editor:{position:"relative",display:"flex","flex-wrap":"wrap",margin:"20px",height:window.innerHeight-40},sideMenu:{width:"40%",height:e.sizing.editorBlockHeight},video:{position:"relative",background:"#ffffff",display:"flex","justify-content":"center","align-items":"center",width:"60%",height:e.sizing.editorBlockHeight,"& video":{"max-height":"100%",width:"100%",height:"auto"}},videoPlayerMenu:{display:"flex",width:"100%",height:"50px",background:e.palette.secondary,position:"absolute",bottom:"0px","& .button-set":{display:"flex","justify-content":"center","align-items":"center",width:"33%",height:"100%"}},timeline:{position:"absolute",bottom:"0px",background:e.palette.secondary,width:"100%",height:e.sizing.editorBlockHeight-20,"& .tracks-container":{position:"relative",width:"98%",height:"300px",background:"#474646",margin:"0 auto",borderRadius:"15px","& .tracks-container-header":{width:"100%",height:"30px",background:"#ffffff",borderRadius:"15px 15px 0 0"}}},trackContainer:{width:"100%",height:"40px",borderBottom:"solid 1px black"},track:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%",backgroundColor:"#878787",cursor:"pointer"},trackText:{margin:"0",color:"#000000",userSelect:"none"},playerpin:{position:"absolute",top:"30px",width:"2px",height:"270px",background:"#FF0000",cursor:"pointer","&:before":{position:"absolute",content:"''",top:"-5px",left:"-4px",background:"#FF0000",display:"inline-block",width:"10px",height:"10px",transform:"rotate(45deg)","-webkit-transform":"rotate(45deg)"}}}},d=n(9),m=n(121),p=n(122),f=n(123),b=n(124),v=n(125),E=u()(s)((function(e){var t=Object(d.b)(),n=Object(d.c)((function(e){return e})).playing,a=e.classes;return r.a.createElement("div",{className:a.videoPlayerMenu},r.a.createElement("div",{className:"button-set"},r.a.createElement(m.a,{onClick:function(){t({type:"CHANGE_CURRENT_TIME",payload:0}),document.dispatchEvent(new CustomEvent("movepin",{detail:0}))},style:{fontSize:30}})),r.a.createElement("div",{className:"button-set"},r.a.createElement(p.a,{style:{fontSize:30}}),n?r.a.createElement(b.a,{onClick:function(){t({type:"CHANGE_PLAYING",payload:!1})},style:{fontSize:50}}):r.a.createElement(f.a,{onClick:function(){t({type:"CHANGE_PLAYING",payload:!0})},style:{fontSize:50}}),r.a.createElement(v.a,{style:{fontSize:30}})),r.a.createElement("div",{className:"button-set"}))})),h=n(12),g=function(e){var t=e.trackConfig,n=t.inpoint,i=t.outpoint,c=t.source,o=t.type,l=Object(a.useRef)(null),u=Object(d.c)((function(e){return e})),s=u.currentTime,m=u.playing,p=function(e,t,n){var r=Object(a.useState)(!1),i=Object(h.a)(r,2),c=i[0],o=i[1];return Object(a.useEffect)((function(){var a=e/1e3;o(a>=t&&n>a)}),[e,t,n]),c}(s,n,i);return Object(a.useEffect)((function(){m&&p&&l.current&&l.current.play(),!m&&l.current&&l.current.pause()}),[p,m,l]),r.a.createElement(r.a.Fragment,null,p&&r.a.createElement("video",{ref:l,crossOrigin:"*",muted:!0},r.a.createElement("source",{src:c,type:o})))},y=u()(s)((function(e){var t=e.classes,n=e.tracks;return r.a.createElement("section",{className:t.video},n&&n.map((function(e){return r.a.createElement(g,{key:e.id,trackConfig:e})})),r.a.createElement(E,null))})),k=u()(s)((function(e){var t=e.classes;return r.a.createElement("section",{className:t.sideMenu},r.a.createElement("code",null,"insert menu here"))})),O=u()(s)((function(e){var t=Object(d.b)(),n=Object(d.c)((function(e){return e})),i=Object(a.useState)(!1),c=Object(h.a)(i,2),o=c[0],l=c[1],u=Object(a.useState)(null),s=Object(h.a)(u,2),m=s[0],p=s[1],f=Object(a.useState)(0),b=Object(h.a)(f,2),v=b[0],E=b[1],g=Object(a.useState)(0),y=Object(h.a)(g,2),k=y[0],O=y[1],j=e.classes,w=e.parent,N=void 0===w?null:w,x=function(){return l(!1)};return Object(a.useEffect)((function(){E(1e3*n.duration)}),[n.duration]),Object(a.useEffect)((function(){var e=function(e){return O(e.detail)},n=function(e){var n=(window.innerWidth-N.clientWidth)/2,a=e.clientX-n;if(o&&N.clientWidth>a&&a>0){var r=100/N.clientWidth*a;O(r),t({type:"CHANGE_CURRENT_TIME",payload:v/N.clientWidth*a})}},a=function(){return l(!1)};return document.addEventListener("movepin",e),null===N||void 0===N||N.addEventListener("mousemove",n),null===N||void 0===N||N.addEventListener("mouseup",x),null===N||void 0===N||N.addEventListener("mouseleave",a),function(){document.removeEventListener("movepin",e),null===N||void 0===N||N.removeEventListener("mousemove",n),null===N||void 0===N||N.removeEventListener("mouseup",x),null===N||void 0===N||N.removeEventListener("mouseleave",a)}}),[m,N,o,t,v]),r.a.createElement("div",{id:"playerpin",onMouseDown:function(){return l(!0)},onMouseUp:x,ref:p,className:j.playerpin,style:{left:k+"%"}})})),j=u()(s)((function(e){var t=Object(d.c)((function(e){return e.duration}));return r.a.createElement("div",{style:{width:"100%",height:"30px"}},r.a.createElement("code",null,"duration: ",r.a.createElement("span",{style:{color:"#FF0000"}},t),"sec"))})),w=u()(s)((function(e){var t=e.classes,n=e.name,a=void 0===n?"generic":n,i=e.duration,c=void 0===i?0:i,o=e.state;return r.a.createElement("div",{className:t.trackContainer},r.a.createElement("div",{className:t.track,style:{left:"0",width:"".concat(100/o.duration*c,"%")}},r.a.createElement("h6",{className:t.trackText},a)))})),N=function(){var e=Object(d.b)(),t=Object(d.c)((function(e){return e})),n=t.playing,r=t.currentTime,i=Object(a.useState)(0),c=Object(h.a)(i,2),o=c[0],l=c[1],u=Object(a.useRef)();Object(a.useEffect)((function(){l(1e3*t.duration)}),[t.duration]),Object(a.useLayoutEffect)((function(){var t=function t(n,a){var r=(new Date).getTime()-n+a,i=new CustomEvent("movepin",{detail:100*(r/o)});e({type:"CHANGE_CURRENT_TIME",payload:r}),r<o?(document.dispatchEvent(i),u.current=requestAnimationFrame((function(){return t(n,a)}))):e({type:"CHANGE_PLAYING",payload:!1})};n||cancelAnimationFrame(u.current),n&&(u.current=requestAnimationFrame((function(){t((new Date).getTime(),r)})))}),[n,o])},x=u()(s)((function(e){var t=e.classes,n=e.tracks,i=Object(a.useRef)(null),c=Object(d.c)((function(e){return e}));return N(),r.a.createElement("section",{className:t.timeline},r.a.createElement(j,null),r.a.createElement("div",{className:"tracks-container",ref:i},r.a.createElement("div",{className:"tracks-container-header"}),r.a.createElement(O,{parent:i.current||null}),c&&n.map((function(e){return r.a.createElement(w,{key:e.id,state:c,name:e.name,duration:e.duration})}))))})),_=[{id:"1",name:"man_with_beer",extension:"webm",type:"video/webm",duration:39.96,inpoint:0,outpoint:39.96,source:"https://upload.wikimedia.org/wikipedia/en/transcoded/6/61/Old_Man_Drinking_a_Glass_of_Beer_%281897%29.webm/Old_Man_Drinking_a_Glass_of_Beer_%281897%29.webm.360p.webm"}],C=u()(s)((function(e){var t=e.classes;return r.a.createElement("section",{className:t.editor},r.a.createElement(k,null),r.a.createElement(y,{tracks:_}),r.a.createElement(x,{tracks:_}))})),A=function(e){return r.a.createElement(o.d,null,r.a.createElement(o.b,{path:"/main",component:C}),r.a.createElement(o.a,{to:"/main"}))},T=n(35),G=n(54),H=n(15),R="CHANGE_PLAYING",L="CHANGE_DURATION",M="CHANGE_VIDEO",F="CHANGE_CURRENT_TIME",I={playing:!1,duration:60,currentTime:0,selectedVideo:null};var S=Object(G.a)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case R:return Object(H.a)(Object(H.a)({},e),{},{playing:t.payload});case L:return Object(H.a)(Object(H.a)({},e),{},{duration:t.payload});case M:return Object(H.a)(Object(H.a)({},e),{},{selectedVideo:t.payload});case F:return Object(H.a)(Object(H.a)({},e),{},{currentTime:t.payload});default:return e}})),z={palette:{primary:"#F1DF99",secondary:"#727272",tertiary:"#000000",background:"#474646",text:"#fff",font:"serif",headline:"righteous"},sizing:{editorBlockHeight:window.innerHeight/2-20,editorBlockMargin:"0 0 20px 0"}};n(107);c.a.render(r.a.createElement(T.a,null,r.a.createElement(d.a,{store:S},r.a.createElement(l.ThemeProvider,{theme:z},r.a.createElement(A,null)))),document.getElementById("root"))}},[[108,1,2]]]);
//# sourceMappingURL=main.f01da280.chunk.js.map
{"version":3,"sources":["style/style.js","layout/components/videoPlayer/VideoPlayerMenu.js","layout/components/Media.js","layout/hooks/useActiveMedia.js","layout/components/videoPlayer/VideoPlayer.js","layout/components/SideMenu.js","layout/components/timeline/VideoPlayerPin.js","layout/components/timeline/TimelineSettings.js","layout/components/timeline/Track.js","layout/hooks/useAnimationFrame.js","layout/components/timeline/Timeline.js","layout/pages/VideoEditor.js","layout/PrimaryRoute.js","state/actions/types.js","state/reducers/reducers.js","state/store.js","style/theme.js","index.js"],"names":["styles","theme","background","palette","color","text","overflow","editor","position","display","margin","height","window","innerHeight","sideMenu","width","sizing","editorBlockHeight","video","videoPlayerMenu","secondary","bottom","timeline","borderRadius","trackContainer","borderBottom","track","justifyContent","alignItems","backgroundColor","cursor","trackText","userSelect","playerpin","top","content","left","transform","injectSheet","props","dispatch","useDispatch","playing","useSelector","state","classes","className","Replay","onClick","type","payload","document","dispatchEvent","CustomEvent","detail","style","fontSize","FastRewind","Pause","PlayArrow","FastForward","Media","trackConfig","inpoint","outpoint","source","mediaRef","useRef","currentTime","isActive","time","useState","active","setActive","useEffect","useActiveMedia","current","play","pause","ref","crossOrigin","muted","src","tracks","map","key","id","dragging","setDragging","setPlayerpin","duration","setDuration","xPos","setXPos","parent","onMouseUp","onMovePin","e","onMouseMove","offsetLeft","innerWidth","clientWidth","x","clientX","percent","onMouseLeave","addEventListener","removeEventListener","onMouseDown","name","useAnimationFrame","requestRef","useLayoutEffect","updatePinPosition","start","ts","runtime","Date","getTime","pinEvent","requestAnimationFrame","cancelAnimationFrame","tracksContainerEl","extension","PrimaryRoute","path","component","VideoEditor","to","CHANGE_PLAYING","CHANGE_DURATION","CHANGE_VIDEO","CHANGE_CURRENT_TIME","initialVideoState","selectedVideo","store","createStore","action","actionType","primary","tertiary","font","headline","editorBlockMargin","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.afaf5f41.chunk.js","sourcesContent":["export const styles = (theme) => ({\n  \"@global body\": {\n    background: theme.palette.background,\n    color: theme.palette.text,\n    overflow: \"hidden\",\n  },\n  editor: {\n    position: \"relative\",\n    display: \"flex\",\n    \"flex-wrap\": \"wrap\",\n    margin: \"20px\",\n    height: window.innerHeight - 40,\n  },\n  sideMenu: {\n    width: \"40%\",\n    height: theme.sizing.editorBlockHeight,\n  },\n  video: {\n    position: \"relative\",\n    background: \"#ffffff\",\n    display: \"flex\",\n    \"justify-content\": \"center\",\n    \"align-items\": \"center\",\n    width: \"60%\",\n    height: theme.sizing.editorBlockHeight,\n\n    \"& video\": {\n      \"max-height\": \"100%\",\n      width: \"100%\",\n      height: \"auto\",\n    },\n  },\n  videoPlayerMenu: {\n    display: \"flex\",\n    width: \"100%\",\n    height: \"50px\",\n    background: theme.palette.secondary,\n    position: \"absolute\",\n    bottom: \"0px\",\n\n    \"& .button-set\": {\n      display: \"flex\",\n      \"justify-content\": \"center\",\n      \"align-items\": \"center\",\n      width: \"33%\",\n      height: \"100%\",\n    },\n  },\n  timeline: {\n    position: \"absolute\",\n    bottom: \"0px\",\n    background: theme.palette.secondary,\n    width: \"100%\",\n    height: theme.sizing.editorBlockHeight - 20,\n\n    \"& .tracks-container\": {\n      position: \"relative\",\n      width: \"98%\",\n      height: \"300px\",\n      background: \"#474646\",\n      margin: \"0 auto\",\n      borderRadius: \"15px\",\n\n      \"& .tracks-container-header\": {\n        width: \"100%\",\n        height: \"30px\",\n        background: \"#ffffff\",\n        borderRadius: \"15px 15px 0 0\",\n      },\n    },\n  },\n\n  trackContainer: {\n    width: \"100%\",\n    height: \"40px\",\n    borderBottom: \"solid 1px black\",\n  },\n  track: {\n    display: \"flex\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    height: \"100%\",\n    backgroundColor: \"#878787\",\n    cursor: \"pointer\",\n  },\n  trackText: {\n    margin: \"0\",\n    color: \"#000000\",\n    userSelect: \"none\",\n  },\n\n  playerpin: {\n    position: \"absolute\",\n    top: \"30px\",\n    width: \"2px\",\n    height: \"270px\",\n    background: \"#FF0000\",\n    cursor: \"pointer\",\n\n    \"&:before\": {\n      position: \"absolute\",\n      content: \"''\",\n      top: \"-5px\",\n      left: \"-4px\",\n      background: \"#FF0000\",\n      display: \"inline-block\",\n      width: \"10px\",\n      height: \"10px\",\n\n      transform: \"rotate(45deg)\",\n      \"-webkit-transform\": \"rotate(45deg)\",\n    },\n  },\n});\n","import React from \"react\";\n// style\nimport injectSheet from \"react-jss\";\nimport { styles } from \"../../../style/style\";\n// redux\nimport { useDispatch, useSelector } from \"react-redux\";\n// icons\nimport {\n  Replay,\n  PlayArrow,\n  Pause,\n  FastRewind,\n  FastForward,\n} from \"@material-ui/icons\";\n\nconst VideoPlayerMenu = (props) => {\n  const dispatch = useDispatch();\n\n  const state = useSelector((state) => state);\n  const { playing } = state;\n  const { classes } = props;\n\n  const handlePlay = () => {\n    dispatch({ type: \"CHANGE_PLAYING\", payload: true });\n  };\n\n  const handlePause = () => {\n    dispatch({ type: \"CHANGE_PLAYING\", payload: false });\n  };\n\n  const handleReplay = () => {\n    dispatch({ type: \"CHANGE_CURRENT_TIME\", payload: 0 });\n    document.dispatchEvent(new CustomEvent(\"movepin\", { detail: 0 }));\n  };\n\n  return (\n    <div className={classes.videoPlayerMenu}>\n      <div className={\"button-set\"}>\n        <Replay onClick={handleReplay} style={{ fontSize: 30 }} />\n      </div>\n      <div className={\"button-set\"}>\n        <FastRewind style={{ fontSize: 30 }} />\n        {!playing ? (\n          <PlayArrow onClick={handlePlay} style={{ fontSize: 50 }} />\n        ) : (\n          <Pause onClick={handlePause} style={{ fontSize: 50 }} />\n        )}\n        <FastForward style={{ fontSize: 30 }} />\n      </div>\n      <div className={\"button-set\"}></div>\n    </div>\n  );\n};\n\nexport default injectSheet(styles)(VideoPlayerMenu);\n","import React, { useEffect, useRef } from \"react\";\n// style\n// import injectSheet from \"react-jss\";\n// import { styles } from \"../../../style/style\";\n// redux\nimport { useSelector } from \"react-redux\";\n// hooks\nimport { useActiveMedia } from \"../hooks/useActiveMedia\";\n\nconst Media = (props) => {\n  const { inpoint, outpoint, source, type } = props.trackConfig;\n  const mediaRef = useRef(null);\n  const state = useSelector((state) => state);\n  const { currentTime, playing } = state;\n\n  const isActive = useActiveMedia(currentTime, inpoint, outpoint);\n\n  useEffect(() => {\n    if (playing && isActive && mediaRef.current) {\n      mediaRef.current.play();\n    }\n    if (!playing && mediaRef.current) {\n      mediaRef.current.pause();\n    }\n  }, [isActive, playing, mediaRef]);\n\n  return (\n    <>\n      {isActive && (\n        <video ref={mediaRef} crossOrigin=\"anonymous\" muted>\n          <source src={source} type={type} />\n        </video>\n      )}\n    </>\n  );\n};\n\nexport default Media;\n","import { useState, useEffect } from \"react\";\n\nexport const useActiveMedia = (time, inpoint, outpoint) => {\n  const [active, setActive] = useState(false);\n\n  useEffect(() => {\n    const currentTime = time / 1000;\n\n    if (currentTime >= inpoint && outpoint > currentTime) {\n      setActive(true);\n    } else {\n      setActive(false);\n    }\n  }, [time, inpoint, outpoint]);\n\n  return active;\n};\n","import React from \"react\";\n// style\nimport injectSheet from \"react-jss\";\nimport { styles } from \"../../../style/style\";\n// components\nimport VideoPlayerMenu from \"./VideoPlayerMenu\";\nimport Media from \"../Media\";\n\nconst VideoPlayer = (props) => {\n  const { classes, tracks } = props;\n\n  return (\n    <section className={classes.video}>\n      {tracks &&\n        tracks.map((track) => {\n          return <Media key={track.id} trackConfig={track} />;\n        })}\n      <VideoPlayerMenu />\n    </section>\n  );\n};\n\nexport default injectSheet(styles)(VideoPlayer);\n","import React from \"react\";\n//style\nimport injectSheet from \"react-jss\";\nimport { styles } from \"../../style/style\";\n\nconst SideMenu = (props) => {\n  const { classes } = props;\n\n  return (\n    <section className={classes.sideMenu}>\n      <code>insert menu here</code>\n    </section>\n  );\n};\n\nexport default injectSheet(styles)(SideMenu);\n","import React, { useState, useEffect } from \"react\";\n// style\nimport injectSheet from \"react-jss\";\nimport { styles } from \"../../../style/style\";\n// redux\nimport { useDispatch, useSelector } from \"react-redux\";\n\nconst VideoPlayerPin = (props) => {\n  const dispatch = useDispatch();\n\n  const state = useSelector((state) => state);\n  const [dragging, setDragging] = useState(false);\n  const [playerpin, setPlayerpin] = useState(null);\n  const [duration, setDuration] = useState(0);\n  const [xPos, setXPos] = useState(0);\n\n  const { classes, parent = null } = props;\n\n  const onMouseDown = () => setDragging(true);\n  const onMouseUp = () => setDragging(false);\n\n  useEffect(() => {\n    setDuration(state.duration * 1000);\n  }, [state.duration]);\n\n  useEffect(() => {\n    const onMovePin = (e) => setXPos(e.detail); // e.detail = progress\n    const onMouseMove = (e) => {\n      let offsetLeft = (window.innerWidth - parent.clientWidth) / 2;\n      let x = e.clientX - offsetLeft;\n\n      if (dragging && parent.clientWidth > x && x > 0) {\n        let percent = (100 / parent.clientWidth) * x;\n        setXPos(percent);\n\n        dispatch({\n          type: \"CHANGE_CURRENT_TIME\",\n          payload: (duration / parent.clientWidth) * x,\n        });\n      }\n    };\n\n    const onMouseLeave = () => setDragging(false);\n\n    document.addEventListener(\"movepin\", onMovePin);\n\n    parent?.addEventListener(\"mousemove\", onMouseMove);\n    parent?.addEventListener(\"mouseup\", onMouseUp);\n    parent?.addEventListener(\"mouseleave\", onMouseLeave);\n\n    return () => {\n      document.removeEventListener(\"movepin\", onMovePin);\n\n      parent?.removeEventListener(\"mousemove\", onMouseMove);\n      parent?.removeEventListener(\"mouseup\", onMouseUp);\n      parent?.removeEventListener(\"mouseleave\", onMouseLeave);\n    };\n  }, [playerpin, parent, dragging, dispatch, duration]);\n\n  return (\n    <div\n      id={\"playerpin\"}\n      onMouseDown={onMouseDown}\n      onMouseUp={onMouseUp}\n      ref={setPlayerpin}\n      className={classes.playerpin}\n      style={{ left: xPos + \"%\" }}\n    ></div>\n  );\n};\n\nexport default injectSheet(styles)(VideoPlayerPin);\n","import React from \"react\";\n// style\nimport injectSheet from \"react-jss\";\nimport { styles } from \"../../../style/style\";\n// redux\nimport { useSelector } from \"react-redux\";\n\nconst TimelineSettings = (props) => {\n  // const { classes } = props;\n  const duration = useSelector((state) => state.duration);\n\n  return (\n    <div style={{ width: \"100%\", height: \"30px\" }}>\n      <code>\n        duration: <span style={{ color: \"#FF0000\" }}>{duration}</span>\n        sec\n      </code>\n    </div>\n  );\n};\n\nexport default injectSheet(styles)(TimelineSettings);\n","import React from \"react\";\n// style\nimport injectSheet from \"react-jss\";\nimport { styles } from \"../../../style/style\";\n\nconst Track = (props) => {\n  const { classes, name = \"generic\", duration = 0, state } = props;\n\n  return (\n    <div className={classes.trackContainer}>\n      <div\n        className={classes.track}\n        style={{\n          left: \"0\",\n          width: `${(100 / state.duration) * duration}%`,\n        }}\n      >\n        <h6 className={classes.trackText}>{name}</h6>\n      </div>\n    </div>\n  );\n};\n\nexport default injectSheet(styles)(Track);\n","import { useLayoutEffect, useRef, useState, useEffect } from \"react\";\n// redux\nimport { useSelector, useDispatch } from \"react-redux\";\n\nexport const useAnimationFrame = () => {\n  const dispatch = useDispatch();\n  const state = useSelector((state) => state);\n  const { playing, currentTime } = state;\n\n  const [duration, setDuration] = useState(0);\n  const requestRef = useRef();\n\n  useEffect(() => {\n    setDuration(state.duration * 1000);\n  }, [state.duration]);\n\n  useLayoutEffect(() => {\n    const updatePinPosition = (start, ts) => {\n      const now = new Date().getTime();\n      const runtime = now - start + ts;\n      const progress = runtime / duration;\n\n      const pinEvent = new CustomEvent(\"movepin\", { detail: 100 * progress });\n\n      dispatch({ type: \"CHANGE_CURRENT_TIME\", payload: runtime });\n\n      if (runtime < duration) {\n        document.dispatchEvent(pinEvent);\n        requestRef.current = requestAnimationFrame(() =>\n          updatePinPosition(start, ts)\n        );\n      } else {\n        dispatch({ type: \"CHANGE_PLAYING\", payload: false });\n      }\n    };\n\n    if (!playing) {\n      cancelAnimationFrame(requestRef.current);\n    }\n\n    if (playing) {\n      requestRef.current = requestAnimationFrame(() => {\n        updatePinPosition(new Date().getTime(), currentTime);\n      });\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [playing, duration]);\n};\n","import React, { useRef } from \"react\";\n// style\nimport injectSheet from \"react-jss\";\nimport { styles } from \"../../../style/style\";\n// redux\nimport { useSelector } from \"react-redux\";\n// components\nimport VideoPlayerPin from \"./VideoPlayerPin\";\nimport TimelineSettings from \"./TimelineSettings\";\nimport Track from \"./Track\";\n// hooks\nimport { useAnimationFrame } from \"../../hooks/useAnimationFrame\";\n\nconst Timeline = (props) => {\n  const { classes, tracks } = props;\n  const tracksContainerEl = useRef(null);\n  const state = useSelector((state) => state);\n\n  useAnimationFrame();\n\n  return (\n    <section className={classes.timeline}>\n      <TimelineSettings />\n      <div className={\"tracks-container\"} ref={tracksContainerEl}>\n        <div className={\"tracks-container-header\"} />\n        <VideoPlayerPin parent={tracksContainerEl.current || null} />\n\n        {state &&\n          tracks.map((track) => {\n            return (\n              <Track\n                key={track.id}\n                state={state}\n                name={track.name}\n                duration={track.duration}\n              />\n            );\n          })}\n      </div>\n    </section>\n  );\n};\n\nexport default injectSheet(styles)(Timeline);\n","import React from \"react\";\n//style\nimport injectSheet from \"react-jss\";\nimport { styles } from \"../../style/style\";\n// components\nimport VideoPlayer from \"../components/videoPlayer/VideoPlayer\";\nimport SideMenu from \"../components/SideMenu\";\nimport Timeline from \"../components/timeline/Timeline\";\n\nconst tracks = [\n  {\n    id: \"1\",\n    name: \"man_with_beer\",\n    extension: \"webm\",\n    type: \"video/webm\",\n    duration: 39.96,\n    inpoint: 0,\n    outpoint: 39.96,\n    source:\n      \"https://upload.wikimedia.org/wikipedia/en/transcoded/6/61/Old_Man_Drinking_a_Glass_of_Beer_%281897%29.webm/Old_Man_Drinking_a_Glass_of_Beer_%281897%29.webm.360p.webm\",\n  },\n];\n\nconst VideoEditor = (props) => {\n  const { classes } = props;\n\n  return (\n    <section className={classes.editor}>\n      <SideMenu />\n      <VideoPlayer tracks={tracks} />\n      <Timeline tracks={tracks} />\n    </section>\n  );\n};\n\nexport default injectSheet(styles)(VideoEditor);\n","import React from \"react\";\n// import injectSheet from \"react-jss\";\n// import { styles } from \"../style/style\";\nimport { Route, Switch, Redirect } from \"react-router-dom\";\n// redux\n// import { connect } from \"react-redux\";\n// import { saveMeme } from \"../state/actions/actions\";\n\nimport VideoEditor from \"./pages/VideoEditor\";\n\nconst PrimaryRoute = (props) => {\n  // const { classes } = props;\n\n  return (\n    <Switch>\n      <Route path=\"/main\" component={VideoEditor} />\n      <Redirect to=\"/main\" />\n    </Switch>\n  );\n};\n\nexport default PrimaryRoute;\n","export const DRAG_PIN = \"DRAG_PIN\";\nexport const CHANGE_PLAYING = \"CHANGE_PLAYING\";\nexport const CHANGE_DURATION = \"CHANGE_DURATION\";\nexport const CHANGE_VIDEO = \"CHANGE_VIDEO\";\nexport const CHANGE_CURRENT_TIME = \"CHANGE_CURRENT_TIME\";\n","import * as actionType from \"../actions/types\";\n\nconst initialVideoState = {\n  playing: false,\n  duration: 60,\n  currentTime: 0,\n  selectedVideo: null,\n};\n\nexport function videoState(state = initialVideoState, action) {\n  switch (action.type) {\n    case actionType.CHANGE_PLAYING:\n      return { ...state, playing: action.payload };\n    case actionType.CHANGE_DURATION:\n      return { ...state, duration: action.payload };\n    case actionType.CHANGE_VIDEO:\n      return { ...state, selectedVideo: action.payload };\n    case actionType.CHANGE_CURRENT_TIME:\n      return { ...state, currentTime: action.payload };\n    default:\n      return state;\n  }\n}\n","import { createStore } from \"redux\";\nimport { videoState } from \"./reducers/reducers\";\n\nexport const store = createStore(videoState);\n","export const theme = {\n  palette: {\n    primary: \"#F1DF99\",\n    secondary: \"#727272\",\n    tertiary: \"#000000\",\n    background: \"#474646\",\n    text: \"#fff\",\n    font: \"serif\",\n    headline: \"righteous\",\n  },\n  sizing: {\n    editorBlockHeight: window.innerHeight / 2 - 20,\n    editorBlockMargin: \"0 0 20px 0\",\n  },\n};\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport PrimaryRoute from \"./layout/PrimaryRoute\";\n\nimport { ThemeProvider } from \"react-jss\";\nimport { Provider } from \"react-redux\";\nimport { BrowserRouter } from \"react-router-dom\";\nimport { store } from \"./state/store\";\nimport { theme } from \"./style/theme\";\n\nimport \"./style/index.css\";\n\nReactDOM.render(\n  <BrowserRouter>\n    <Provider store={store}>\n      <ThemeProvider theme={theme}>\n        <PrimaryRoute />\n      </ThemeProvider>\n    </Provider>\n  </BrowserRouter>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}